{"version":3,"sources":["../node_modules/es-module-loader/core/common.js","../node_modules/es-module-loader/core/resolve.js","../node_modules/es-module-loader/core/loader-polyfill.js","../node_modules/es-module-loader/core/register-loader.js","../src/common.js","../src/systemjs-production-loader.js","../src/system-production.js"],"names":["createSymbol","name","hasSymbol","Symbol","LoaderError__Check_error_message_for_loader_stack","childErr","newMessage","isBrowser","replace","isWindows","err","message","errArgs","fileName","Error","lineNumber","stack","originalErr","isNode","throwResolveError","relUrl","parentUrl","RangeError","resolveIfNotPlain","trim","parentProtocol","substr","indexOf","firstChar","secondChar","length","pathname","parentIsPlain","undefined","segmented","lastIndexOf","output","segmentIndex","i","pop","push","substring","join","match","arrayValues","arr","values","iterator","iterable","keys","Object","keyIndex","next","value","done","Loader","this","registry","Registry","ensureInstantiated","module","ModuleNamespace","TypeError","ensureResolution","resolvedKey","REGISTRY","baseObject","defineProperty","BASE_OBJECT","forEach","extendNamespace","key","enumerable","get","RegisterLoader","call","registryDelete","delete","deleted","records","hasOwnProperty","linkRecord","REGISTER_INTERNAL","lastRegister","trace","createLoadRecord","state","registration","importerSetters","loadError","evalError","instantiatePromise","dependencies","execute","executingRequire","moduleObj","setters","depsInstantiatePromise","dependencyInstantiations","linked","resolveInstantiate","loader","parentKey","Promise","resolve","load","reject","instantiate","then","link","createProcessAnonRegister","INSTANTIATE","instantiation","traceLoad","default","__useDefault","registerDeclarative","catch","addToError","resolveInstantiateDep","traceDepMap","loads","deps","dynamicDeps","depMap","declare","definedExports","declared","global","changed","p","ContextualLoader","exports","instantiateDeps","seen","depsInstantiatePromises","Array","all","setter","deepDepsInstantiatePromises","depLoad","depLink","id","meta","url","ensureEvaluate","doEvaluate","makeDynamicRequire","declarativeExecute","configurable","set","require","dynamicExecute","moduleDefault","__esModule","nullContext","e","isModule","m","hasStringTag","toStringTag","prototype","toString","checkInstantiateWasm","wasmBuffer","processAnonRegister","bytes","Uint8Array","WebAssembly","compile","importObj","Module","imports","register","_export","Instance","extend","a","b","preloadScript","supportsPreload","supportsPrefetch","document","createElement","rel","as","href","head","appendChild","removeChild","Image","src","workerImport","importScripts","scriptLoad","crossOrigin","integrity","cleanup","error","loadingScripts","splice","script","removeEventListener","isWorker","type","charset","async","addEventListener","applyPaths","baseURL","paths","mapMatch","getMapMatch","target","resolved","baseURI","checkMap","curLen","split","len","map","bestMatch","SystemJSProductionLoader","CONFIG","submap","bundles","depCache","wasm","emptyModule","plainResolve","config","parent","doScriptLoad","coreInstantiate","bundle","bundleUrl","resolveSync","has","loadedBundles","newModule","preloadFn","fetch","res","ok","arrayBuffer","status","statusText","fetched","wasmInstantiated","source","TextDecoder","decode","eval","window","process","versions","node","platform","envGlobal","self","getElementsByTagName","bases","location","slashIndex","cwd","resolvedPromise","constructor","import","RESOLVE_INSTANTIATE","RESOLVE","iteratorSupport","entries","namespace","create","instantiated","registerDynamic","freeze","PLAIN_RESOLVE","PLAIN_RESOLVE_SYNC","relList","supports","onerror","msg","apply","arguments","plainResolveSync","systemJSPrototype","bindings","cfg","val","v","resolvedParent","concat","getConfig","version","System","SystemJS"],"mappings":"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","sourcesContent":["/*\n * Environment\n */\nexport var isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\nexport var isNode = typeof process !== 'undefined' && process.versions && process.versions.node;\nexport var isWindows = typeof process !== 'undefined' && typeof process.platform === 'string' && process.platform.match(/^win/);\n\nvar envGlobal = typeof self !== 'undefined' ? self : global;\nexport { envGlobal as global }\n\n/*\n * Simple Symbol() shim\n */\nvar hasSymbol = typeof Symbol !== 'undefined';\nexport function createSymbol (name) {\n  return hasSymbol ? Symbol() : '@@' + name;\n}\n\nexport function pathToFileUrl (filePath) {\n  return 'file://' + (isWindows ? '/' : '') + (isWindows ? filePath.replace(/\\\\/g, '/') : filePath);\n}\n\nexport function fileUrlToPath (fileUrl) {\n  if (fileUrl.substr(0, 7) !== 'file://')\n    throw new RangeError(fileUrl + ' is not a valid file url');\n  if (isWindows)\n    return fileUrl.substr(8).replace(/\\\\/g, '/');\n  else\n    return fileUrl.substr(7);\n}\n\n/*\n * Environment baseURI\n */\nexport var baseURI;\n\n// environent baseURI detection\nif (typeof document != 'undefined' && document.getElementsByTagName) {\n  baseURI = document.baseURI;\n\n  if (!baseURI) {\n    var bases = document.getElementsByTagName('base');\n    baseURI = bases[0] && bases[0].href || window.location.href;\n  }\n}\nelse if (typeof location != 'undefined') {\n  baseURI = location.href;\n}\n\n// sanitize out the hash and querystring\nif (baseURI) {\n  baseURI = baseURI.split('#')[0].split('?')[0];\n  var slashIndex = baseURI.lastIndexOf('/');\n  if (slashIndex !== -1)\n    baseURI = baseURI.substr(0, slashIndex + 1);\n}\nelse if (typeof process !== 'undefined' && process.cwd) {\n  baseURI = 'file://' + (isWindows ? '/' : '') + process.cwd();\n  if (isWindows)\n    baseURI = baseURI.replace(/\\\\/g, '/');\n}\nelse {\n  throw new TypeError('No environment baseURI');\n}\n\n// ensure baseURI has trailing \"/\"\nif (baseURI[baseURI.length - 1] !== '/')\n  baseURI += '/';\n\n/*\n * LoaderError with chaining for loader stacks\n */\nvar errArgs = new Error(0, '_').fileName == '_';\nfunction LoaderError__Check_error_message_for_loader_stack (childErr, newMessage) {\n  // Convert file:/// URLs to paths in Node\n  if (!isBrowser)\n    newMessage = newMessage.replace(isWindows ? /file:\\/\\/\\//g : /file:\\/\\//g, '');\n\n  var message = (childErr.message || childErr) + '\\n  ' + newMessage;\n\n  var err;\n  if (errArgs && childErr.fileName)\n    err = new Error(message, childErr.fileName, childErr.lineNumber);\n  else\n    err = new Error(message);\n\n\n  var stack = childErr.originalErr ? childErr.originalErr.stack : childErr.stack;\n\n  if (isNode)\n    // node doesn't show the message otherwise\n    err.stack = message + '\\n  ' + stack;\n  else\n    err.stack = stack;\n\n  err.originalErr = childErr.originalErr || childErr;\n\n  return err;\n}\nexport { LoaderError__Check_error_message_for_loader_stack as addToError }\n","import { isNode } from './common.js';\n\n/*\n * Optimized URL normalization assuming a syntax-valid URL parent\n */\nfunction throwResolveError (relUrl, parentUrl) {\n  throw new RangeError('Unable to resolve \"' + relUrl + '\" to ' + parentUrl);\n}\nexport function resolveIfNotPlain (relUrl, parentUrl) {\n  relUrl = relUrl.trim();\n  var parentProtocol = parentUrl && parentUrl.substr(0, parentUrl.indexOf(':') + 1);\n\n  var firstChar = relUrl[0];\n  var secondChar = relUrl[1];\n\n  // protocol-relative\n  if (firstChar === '/' && secondChar === '/') {\n    if (!parentProtocol)\n      throwResolveError(relUrl, parentUrl);\n    return parentProtocol + relUrl;\n  }\n  // relative-url\n  else if (firstChar === '.' && (secondChar === '/' || secondChar === '.' && (relUrl[2] === '/' || relUrl.length === 2 && (relUrl += '/')) ||\n      relUrl.length === 1  && (relUrl += '/')) ||\n      firstChar === '/') {\n    var parentIsPlain = !parentProtocol || parentUrl[parentProtocol.length] !== '/';\n\n    // read pathname from parent if a URL\n    // pathname taken to be part after leading \"/\"\n    var pathname;\n    if (parentIsPlain) {\n      // resolving to a plain parent -> skip standard URL prefix, and treat entire parent as pathname\n      if (parentUrl === undefined)\n        throwResolveError(relUrl, parentUrl);\n      pathname = parentUrl;\n    }\n    else if (parentUrl[parentProtocol.length + 1] === '/') {\n      // resolving to a :// so we need to read out the auth and host\n      if (parentProtocol !== 'file:') {\n        pathname = parentUrl.substr(parentProtocol.length + 2);\n        pathname = pathname.substr(pathname.indexOf('/') + 1);\n      }\n      else {\n        pathname = parentUrl.substr(8);\n      }\n    }\n    else {\n      // resolving to :/ so pathname is the /... part\n      pathname = parentUrl.substr(parentProtocol.length + 1);\n    }\n\n    if (firstChar === '/') {\n      if (parentIsPlain)\n        throwResolveError(relUrl, parentUrl);\n      else\n        return parentUrl.substr(0, parentUrl.length - pathname.length - 1) + relUrl;\n    }\n\n    // join together and split for removal of .. and . segments\n    // looping the string instead of anything fancy for perf reasons\n    // '../../../../../z' resolved to 'x/y' is just 'z' regardless of parentIsPlain\n    var segmented = pathname.substr(0, pathname.lastIndexOf('/') + 1) + relUrl;\n\n    var output = [];\n    var segmentIndex = -1;\n\n    for (var i = 0; i < segmented.length; i++) {\n      // busy reading a segment - only terminate on '/'\n      if (segmentIndex !== -1) {\n        if (segmented[i] === '/') {\n          output.push(segmented.substring(segmentIndex, i + 1));\n          segmentIndex = -1;\n        }\n        continue;\n      }\n\n      // new segment - check if it is relative\n      if (segmented[i] === '.') {\n        // ../ segment\n        if (segmented[i + 1] === '.' && segmented[i + 2] === '/') {\n          output.pop();\n          i += 2;\n        }\n        // ./ segment\n        else if (segmented[i + 1] === '/') {\n          i += 1;\n        }\n        else {\n          // the start of a new segment as below\n          segmentIndex = i;\n          continue;\n        }\n\n        // this is the plain URI backtracking error (../, package:x -> error)\n        if (parentIsPlain && output.length === 0)\n          throwResolveError(relUrl, parentUrl);\n\n        // trailing . or .. segment\n        if (i === segmented.length)\n          output.push('');\n        continue;\n      }\n\n      // it is the start of a new segment\n      segmentIndex = i;\n    }\n    // finish reading out the last segment\n    if (segmentIndex !== -1)\n      output.push(segmented.substr(segmentIndex));\n\n    return parentUrl.substr(0, parentUrl.length - pathname.length) + output.join('');\n  }\n\n  // sanitizes and verifies (by returning undefined if not a valid URL-like form)\n  // Windows filepath compatibility is an added convenience here\n  var protocolIndex = relUrl.indexOf(':');\n  if (protocolIndex !== -1) {\n    if (isNode) {\n      // C:\\x becomes file:///c:/x (we don't support C|\\x)\n      if (relUrl[1] === ':' && relUrl[2] === '\\\\' && relUrl[0].match(/[a-z]/i))\n        return 'file:///' + relUrl.replace(/\\\\/g, '/');\n    }\n    return relUrl;\n  }\n}\n","import { addToError, createSymbol } from './common.js';\n\nexport { Loader, ModuleNamespace, REGISTRY }\n\nvar resolvedPromise = Promise.resolve();\n\n/*\n * Simple Array values shim\n */\nfunction arrayValues (arr) {\n  if (arr.values)\n    return arr.values();\n\n  if (typeof Symbol === 'undefined' || !Symbol.iterator)\n    throw new Error('Symbol.iterator not supported in this browser');\n\n  var iterable = {};\n  iterable[Symbol.iterator] = function () {\n    var keys = Object.keys(arr);\n    var keyIndex = 0;\n    return {\n      next: function () {\n        if (keyIndex < keys.length)\n          return {\n            value: arr[keys[keyIndex++]],\n            done: false\n          };\n        else\n          return {\n            value: undefined,\n            done: true\n          };\n      }\n    };\n  };\n  return iterable;\n}\n\n/*\n * 3. Reflect.Loader\n *\n * We skip the entire native internal pipeline, just providing the bare API\n */\n// 3.1.1\nfunction Loader () {\n  this.registry = new Registry();\n}\n// 3.3.1\nLoader.prototype.constructor = Loader;\n\nfunction ensureInstantiated (module) {\n  if (!(module instanceof ModuleNamespace))\n    throw new TypeError('Module instantiation did not return a valid namespace object.');\n  return module;\n}\n\n// 3.3.2\nLoader.prototype.import = function (key, parent) {\n  if (typeof key !== 'string')\n    throw new TypeError('Loader import method must be passed a module key string');\n  // custom resolveInstantiate combined hook for better perf\n  var loader = this;\n  return resolvedPromise\n  .then(function () {\n    return loader[RESOLVE_INSTANTIATE](key, parent);\n  })\n  .then(ensureInstantiated)\n  //.then(Module.evaluate)\n  .catch(function (err) {\n    throw addToError(err, 'Loading ' + key + (parent ? ' from ' + parent : ''));\n  });\n};\n// 3.3.3\nvar RESOLVE = Loader.resolve = createSymbol('resolve');\n\n/*\n * Combined resolve / instantiate hook\n *\n * Not in current reduced spec, but necessary to separate RESOLVE from RESOLVE + INSTANTIATE as described\n * in the spec notes of this repo to ensure that loader.resolve doesn't instantiate when not wanted.\n *\n * We implement RESOLVE_INSTANTIATE as a single hook instead of a separate INSTANTIATE in order to avoid\n * the need for double registry lookups as a performance optimization.\n */\nvar RESOLVE_INSTANTIATE = Loader.resolveInstantiate = createSymbol('resolveInstantiate');\n\n// default resolveInstantiate is just to call resolve and then get from the registry\n// this provides compatibility for the resolveInstantiate optimization\nLoader.prototype[RESOLVE_INSTANTIATE] = function (key, parent) {\n  var loader = this;\n  return loader.resolve(key, parent)\n  .then(function (resolved) {\n    return loader.registry.get(resolved);\n  });\n};\n\nfunction ensureResolution (resolvedKey) {\n  if (resolvedKey === undefined)\n    throw new RangeError('No resolution found.');\n  return resolvedKey;\n}\n\nLoader.prototype.resolve = function (key, parent) {\n  var loader = this;\n  return resolvedPromise\n  .then(function() {\n    return loader[RESOLVE](key, parent);\n  })\n  .then(ensureResolution)\n  .catch(function (err) {\n    throw addToError(err, 'Resolving ' + key + (parent ? ' to ' + parent : ''));\n  });\n};\n\n// 3.3.4 (import without evaluate)\n// this is not documented because the use of deferred evaluation as in Module.evaluate is not\n// documented, as it is not considered a stable feature to be encouraged\n// Loader.prototype.load may well be deprecated if this stays disabled\n/* Loader.prototype.load = function (key, parent) {\n  return Promise.resolve(this[RESOLVE_INSTANTIATE](key, parent || this.key))\n  .catch(function (err) {\n    throw addToError(err, 'Loading ' + key + (parent ? ' from ' + parent : ''));\n  });\n}; */\n\n/*\n * 4. Registry\n *\n * Instead of structuring through a Map, just use a dictionary object\n * We throw for construction attempts so this doesn't affect the public API\n *\n * Registry has been adjusted to use Namespace objects over ModuleStatus objects\n * as part of simplifying loader API implementation\n */\nvar iteratorSupport = typeof Symbol !== 'undefined' && Symbol.iterator;\nvar REGISTRY = createSymbol('registry');\nfunction Registry() {\n  this[REGISTRY] = {};\n}\n// 4.4.1\nif (iteratorSupport) {\n  // 4.4.2\n  Registry.prototype[Symbol.iterator] = function () {\n    return this.entries()[Symbol.iterator]();\n  };\n\n  // 4.4.3\n  Registry.prototype.entries = function () {\n    var registry = this[REGISTRY];\n    return arrayValues(Object.keys(registry).map(function (key) {\n      return [key, registry[key]];\n    }));\n  };\n}\n\n// 4.4.4\nRegistry.prototype.keys = function () {\n  return arrayValues(Object.keys(this[REGISTRY]));\n};\n// 4.4.5\nRegistry.prototype.values = function () {\n  var registry = this[REGISTRY];\n  return arrayValues(Object.keys(registry).map(function (key) {\n    return registry[key];\n  }));\n};\n// 4.4.6\nRegistry.prototype.get = function (key) {\n  return this[REGISTRY][key];\n};\n// 4.4.7\nRegistry.prototype.set = function (key, namespace) {\n  if (!(namespace instanceof ModuleNamespace))\n    throw new Error('Registry must be set with an instance of Module Namespace');\n  this[REGISTRY][key] = namespace;\n  return this;\n};\n// 4.4.8\nRegistry.prototype.has = function (key) {\n  return Object.hasOwnProperty.call(this[REGISTRY], key);\n};\n// 4.4.9\nRegistry.prototype.delete = function (key) {\n  if (Object.hasOwnProperty.call(this[REGISTRY], key)) {\n    delete this[REGISTRY][key];\n    return true;\n  }\n  return false;\n};\n\n/*\n * Simple ModuleNamespace Exotic object based on a baseObject\n * We export this for allowing a fast-path for module namespace creation over Module descriptors\n */\n// var EVALUATE = createSymbol('evaluate');\nvar BASE_OBJECT = createSymbol('baseObject');\n\n// 8.3.1 Reflect.Module\n/*\n * Best-effort simplified non-spec implementation based on\n * a baseObject referenced via getters.\n *\n * Allows:\n *\n *   loader.registry.set('x', new Module({ default: 'x' }));\n *\n * Optional evaluation function provides experimental Module.evaluate\n * support for non-executed modules in registry.\n */\nfunction ModuleNamespace (baseObject/*, evaluate*/) {\n  Object.defineProperty(this, BASE_OBJECT, {\n    value: baseObject\n  });\n\n  // evaluate defers namespace population\n  /* if (evaluate) {\n    Object.defineProperty(this, EVALUATE, {\n      value: evaluate,\n      configurable: true,\n      writable: true\n    });\n  }\n  else { */\n    Object.keys(baseObject).forEach(extendNamespace, this);\n  //}\n};\n// 8.4.2\nModuleNamespace.prototype = Object.create(null);\n\nif (typeof Symbol !== 'undefined' && Symbol.toStringTag)\n  Object.defineProperty(ModuleNamespace.prototype, Symbol.toStringTag, {\n    value: 'Module'\n  });\n\nfunction extendNamespace (key) {\n  Object.defineProperty(this, key, {\n    enumerable: true,\n    get: function () {\n      return this[BASE_OBJECT][key];\n    }\n  });\n}\n\n/* function doEvaluate (evaluate, context) {\n  try {\n    evaluate.call(context);\n  }\n  catch (e) {\n    return e;\n  }\n}\n\n// 8.4.1 Module.evaluate... not documented or used because this is potentially unstable\nModule.evaluate = function (ns) {\n  var evaluate = ns[EVALUATE];\n  if (evaluate) {\n    ns[EVALUATE] = undefined;\n    var err = doEvaluate(evaluate);\n    if (err) {\n      // cache the error\n      ns[EVALUATE] = function () {\n        throw err;\n      };\n      throw err;\n    }\n    Object.keys(ns[BASE_OBJECT]).forEach(extendNamespace, ns);\n  }\n  // make chainable\n  return ns;\n}; */\n","import { Loader, ModuleNamespace, REGISTRY } from './loader-polyfill.js';\nimport { resolveIfNotPlain } from './resolve.js';\nimport { addToError, global, createSymbol, baseURI } from './common.js';\n\nexport default RegisterLoader;\n\n/*\n * Register Loader\n *\n * Builds directly on top of loader polyfill to provide:\n * - loader.register support\n * - hookable higher-level resolve\n * - instantiate hook returning a ModuleNamespace or undefined for es module loading\n * - loader error behaviour as in HTML and loader specs, caching load and eval errors separately\n * - build tracing support by providing a .trace=true and .loads object format\n */\n\nvar REGISTER_INTERNAL = createSymbol('register-internal');\n\nfunction RegisterLoader () {\n  Loader.call(this);\n\n  var registryDelete = this.registry.delete;\n  this.registry.delete = function (key) {\n    var deleted = registryDelete.call(this, key);\n\n    // also delete from register registry if linked\n    if (records.hasOwnProperty(key) && !records[key].linkRecord) {\n      delete records[key];\n      deleted = true;\n    }\n\n    return deleted;\n  };\n\n  var records = {};\n\n  this[REGISTER_INTERNAL] = {\n    // last anonymous System.register call\n    lastRegister: undefined,\n    // in-flight es module load records\n    records: records\n  };\n\n  // tracing\n  this.trace = false;\n}\n\nRegisterLoader.prototype = Object.create(Loader.prototype);\nRegisterLoader.prototype.constructor = RegisterLoader;\n\nvar INSTANTIATE = RegisterLoader.instantiate = createSymbol('instantiate');\n\n// default normalize is the WhatWG style normalizer\nRegisterLoader.prototype[RegisterLoader.resolve = Loader.resolve] = function (key, parentKey) {\n  return resolveIfNotPlain(key, parentKey || baseURI);\n};\n\nRegisterLoader.prototype[INSTANTIATE] = function (key, processAnonRegister) {};\n\n// once evaluated, the linkRecord is set to undefined leaving just the other load record properties\n// this allows tracking new binding listeners for es modules through importerSetters\n// for dynamic modules, the load record is removed entirely.\nfunction createLoadRecord (state, key, registration) {\n  return state.records[key] = {\n    key: key,\n\n    // defined System.register cache\n    registration: registration,\n\n    // module namespace object\n    module: undefined,\n\n    // es-only\n    // this sticks around so new module loads can listen to binding changes\n    // for already-loaded modules by adding themselves to their importerSetters\n    importerSetters: undefined,\n\n    loadError: undefined,\n    evalError: undefined,\n\n    // in-flight linking record\n    linkRecord: {\n      // promise for instantiated\n      instantiatePromise: undefined,\n      dependencies: undefined,\n      execute: undefined,\n      executingRequire: false,\n\n      // underlying module object bindings\n      moduleObj: undefined,\n\n      // es only, also indicates if es or not\n      setters: undefined,\n\n      // promise for instantiated dependencies (dependencyInstantiations populated)\n      depsInstantiatePromise: undefined,\n      // will be the array of dependency load record or a module namespace\n      dependencyInstantiations: undefined,\n\n      // indicates if the load and all its dependencies are instantiated and linked\n      // but not yet executed\n      // mostly just a performance shortpath to avoid rechecking the promises above\n      linked: false\n\n      // NB optimization and way of ensuring module objects in setters\n      // indicates setters which should run pre-execution of that dependency\n      // setters is then just for completely executed module objects\n      // alternatively we just pass the partially filled module objects as\n      // arguments into the execute function\n      // hoisted: undefined\n    }\n  };\n}\n\nRegisterLoader.prototype[Loader.resolveInstantiate] = function (key, parentKey) {\n  var loader = this;\n  var state = this[REGISTER_INTERNAL];\n  var registry = this.registry[REGISTRY];\n\n  return resolveInstantiate(loader, key, parentKey, registry, state)\n  .then(function (instantiated) {\n    if (instantiated instanceof ModuleNamespace)\n      return instantiated;\n\n    // resolveInstantiate always returns a load record with a link record and no module value\n    var link = instantiated.linkRecord;\n\n    // if already beaten to done, return\n    if (!link) {\n      if (instantiated.module)\n        return instantiated.module;\n      throw instantiated.evalError;\n    }\n\n    if (instantiated.linkRecord.linked)\n      return ensureEvaluate(loader, instantiated, instantiated.linkRecord, registry, state, undefined);\n\n    return instantiateDeps(loader, instantiated, instantiated.linkRecord, registry, state, [instantiated])\n    .then(function () {\n      return ensureEvaluate(loader, instantiated, instantiated.linkRecord, registry, state, undefined);\n    });\n  });\n};\n\nfunction resolveInstantiate (loader, key, parentKey, registry, state) {\n  // normalization shortpath for already-normalized key\n  // could add a plain name filter, but doesn't yet seem necessary for perf\n  var module = registry[key];\n  if (module)\n    return Promise.resolve(module);\n\n  var load = state.records[key];\n\n  // already linked but not in main registry is ignored\n  if (load && !load.module) {\n    if (load.loadError)\n      return Promise.reject(load.loadError);\n    return instantiate(loader, load, load.linkRecord, registry, state);\n  }\n\n  return loader.resolve(key, parentKey)\n  .then(function (resolvedKey) {\n    // main loader registry always takes preference\n    module = registry[resolvedKey];\n    if (module)\n      return module;\n\n    load = state.records[resolvedKey];\n\n    // already has a module value but not already in the registry (load.module)\n    // means it was removed by registry.delete, so we should\n    // disgard the current load record creating a new one over it\n    // but keep any existing registration\n    if (!load || load.module)\n      load = createLoadRecord(state, resolvedKey, load && load.registration);\n\n    if (load.loadError)\n      return Promise.reject(load.loadError);\n\n    var link = load.linkRecord;\n    if (!link)\n      return load;\n\n    return instantiate(loader, load, link, registry, state);\n  });\n}\n\nfunction createProcessAnonRegister (loader, load, state) {\n  return function () {\n    var lastRegister = state.lastRegister;\n\n    if (!lastRegister)\n      return !!load.registration;\n\n    state.lastRegister = undefined;\n    load.registration = lastRegister;\n\n    return true;\n  };\n}\n\nfunction instantiate (loader, load, link, registry, state) {\n  return link.instantiatePromise || (link.instantiatePromise =\n  // if there is already an existing registration, skip running instantiate\n  (load.registration ? Promise.resolve() : Promise.resolve().then(function () {\n    state.lastRegister = undefined;\n    return loader[INSTANTIATE](load.key, loader[INSTANTIATE].length > 1 && createProcessAnonRegister(loader, load, state));\n  }))\n  .then(function (instantiation) {\n    // direct module return from instantiate -> we're done\n    if (instantiation !== undefined) {\n      if (!(instantiation instanceof ModuleNamespace))\n        throw new TypeError('Instantiate did not return a valid Module object.');\n\n      delete state.records[load.key];\n      if (loader.trace)\n        traceLoad(loader, load, link);\n      return registry[load.key] = instantiation;\n    }\n\n    // run the cached loader.register declaration if there is one\n    var registration = load.registration;\n    // clear to allow new registrations for future loads (combined with registry delete)\n    load.registration = undefined;\n    if (!registration)\n      throw new TypeError('Module instantiation did not call an anonymous or correctly named System.register.');\n\n    link.dependencies = registration[0];\n\n    load.importerSetters = [];\n\n    link.moduleObj = {};\n\n    // process System.registerDynamic declaration\n    if (registration[2]) {\n      link.moduleObj.default = link.moduleObj.__useDefault = {};\n      link.executingRequire = registration[1];\n      link.execute = registration[2];\n    }\n\n    // process System.register declaration\n    else {\n      registerDeclarative(loader, load, link, registration[1]);\n    }\n\n    // shortpath to instantiateDeps\n    if (!link.dependencies.length) {\n      link.linked = true;\n      if (loader.trace)\n        traceLoad(loader, load, link);\n    }\n\n    return load;\n  })\n  .catch(function (err) {\n    load.linkRecord = undefined;\n    throw load.loadError = load.loadError || addToError(err, 'Instantiating ' + load.key);\n  }));\n}\n\n// like resolveInstantiate, but returning load records for linking\nfunction resolveInstantiateDep (loader, key, parentKey, registry, state, traceDepMap) {\n  // normalization shortpaths for already-normalized key\n  // DISABLED to prioritise consistent resolver calls\n  // could add a plain name filter, but doesn't yet seem necessary for perf\n  /* var load = state.records[key];\n  var module = registry[key];\n\n  if (module) {\n    if (traceDepMap)\n      traceDepMap[key] = key;\n\n    // registry authority check in case module was deleted or replaced in main registry\n    if (load && load.module && load.module === module)\n      return load;\n    else\n      return module;\n  }\n\n  // already linked but not in main registry is ignored\n  if (load && !load.module) {\n    if (traceDepMap)\n      traceDepMap[key] = key;\n    return instantiate(loader, load, load.linkRecord, registry, state);\n  } */\n  return loader.resolve(key, parentKey)\n  .then(function (resolvedKey) {\n    if (traceDepMap)\n      traceDepMap[key] = resolvedKey;\n\n    // normalization shortpaths for already-normalized key\n    var load = state.records[resolvedKey];\n    var module = registry[resolvedKey];\n\n    // main loader registry always takes preference\n    if (module && (!load || load.module && module !== load.module))\n      return module;\n\n    if (load && load.loadError)\n      throw load.loadError;\n\n    // already has a module value but not already in the registry (load.module)\n    // means it was removed by registry.delete, so we should\n    // disgard the current load record creating a new one over it\n    // but keep any existing registration\n    if (!load || !module && load.module)\n      load = createLoadRecord(state, resolvedKey, load && load.registration);\n\n    var link = load.linkRecord;\n    if (!link)\n      return load;\n\n    return instantiate(loader, load, link, registry, state);\n  });\n}\n\nfunction traceLoad (loader, load, link) {\n  loader.loads = loader.loads || {};\n  loader.loads[load.key] = {\n    key: load.key,\n    deps: link.dependencies,\n    dynamicDeps: [],\n    depMap: link.depMap || {}\n  };\n}\n\n/*\n * Convert a CJS module.exports into a valid object for new Module:\n *\n *   new Module(getEsModule(module.exports))\n *\n * Sets the default value to the module, while also reading off named exports carefully.\n */\nfunction registerDeclarative (loader, load, link, declare) {\n  var moduleObj = link.moduleObj;\n  var importerSetters = load.importerSetters;\n\n  var definedExports = false;\n\n  // closure especially not based on link to allow link record disposal\n  var declared = declare.call(global, function (name, value) {\n    if (typeof name === 'object') {\n      var changed = false;\n      for (var p in name) {\n        value = name[p];\n        if (p !== '__useDefault' && (!(p in moduleObj) || moduleObj[p] !== value)) {\n          changed = true;\n          moduleObj[p] = value;\n        }\n      }\n      if (changed === false)\n        return value;\n    }\n    else {\n      if ((definedExports || name in moduleObj) && moduleObj[name] === value)\n        return value;\n      moduleObj[name] = value;\n    }\n\n    for (var i = 0; i < importerSetters.length; i++)\n      importerSetters[i](moduleObj);\n\n    return value;\n  }, new ContextualLoader(loader, load.key));\n\n  link.setters = declared.setters;\n  link.execute = declared.execute;\n  if (declared.exports) {\n    link.moduleObj = moduleObj = declared.exports;\n    definedExports = true;\n  }\n}\n\nfunction instantiateDeps (loader, load, link, registry, state, seen) {\n  return (link.depsInstantiatePromise || (link.depsInstantiatePromise = Promise.resolve()\n  .then(function () {\n    var depsInstantiatePromises = Array(link.dependencies.length);\n\n    for (var i = 0; i < link.dependencies.length; i++)\n      depsInstantiatePromises[i] = resolveInstantiateDep(loader, link.dependencies[i], load.key, registry, state, loader.trace && link.depMap || (link.depMap = {}));\n\n    return Promise.all(depsInstantiatePromises);\n  })\n  .then(function (dependencyInstantiations) {\n    link.dependencyInstantiations = dependencyInstantiations;\n\n    // run setters to set up bindings to instantiated dependencies\n    if (link.setters) {\n      for (var i = 0; i < dependencyInstantiations.length; i++) {\n        var setter = link.setters[i];\n        if (setter) {\n          var instantiation = dependencyInstantiations[i];\n\n          if (instantiation instanceof ModuleNamespace) {\n            setter(instantiation);\n          }\n          else {\n            if (instantiation.loadError)\n              throw instantiation.loadError;\n            setter(instantiation.module || instantiation.linkRecord.moduleObj);\n            // this applies to both es and dynamic registrations\n            if (instantiation.importerSetters)\n              instantiation.importerSetters.push(setter);\n          }\n        }\n      }\n    }\n  })))\n  .then(function () {\n    // now deeply instantiateDeps on each dependencyInstantiation that is a load record\n    var deepDepsInstantiatePromises = [];\n\n    for (var i = 0; i < link.dependencies.length; i++) {\n      var depLoad = link.dependencyInstantiations[i];\n      var depLink = depLoad.linkRecord;\n\n      if (!depLink || depLink.linked)\n        continue;\n\n      if (seen.indexOf(depLoad) !== -1) {\n        deepDepsInstantiatePromises.push(depLink.depsInstantiatePromise);\n        continue;\n      }\n      seen.push(depLoad);\n\n      deepDepsInstantiatePromises.push(instantiateDeps(loader, depLoad, depLoad.linkRecord, registry, state, seen));\n    }\n\n    return Promise.all(deepDepsInstantiatePromises);\n  })\n  .then(function () {\n    // as soon as all dependencies instantiated, we are ready for evaluation so can add to the registry\n    // this can run multiple times, but so what\n    link.linked = true;\n    if (loader.trace)\n      traceLoad(loader, load, link);\n\n    return load;\n  })\n  .catch(function (err) {\n    // throw up the instantiateDeps stack\n    link.depsInstantiatePromise = undefined;\n    throw addToError(err, 'Loading ' + load.key);\n  });\n}\n\n/*\n * System.register\n */\nRegisterLoader.prototype.register = function (key, deps, declare) {\n  var state = this[REGISTER_INTERNAL];\n\n  // anonymous modules get stored as lastAnon\n  if (declare === undefined) {\n    state.lastRegister = [key, deps, undefined];\n  }\n\n  // everything else registers into the register cache\n  else {\n    var load = state.records[key] || createLoadRecord(state, key, undefined);\n    load.registration = [deps, declare, undefined];\n  }\n};\n\n/*\n * System.registerDyanmic\n */\nRegisterLoader.prototype.registerDynamic = function (key, deps, executingRequire, execute) {\n  var state = this[REGISTER_INTERNAL];\n\n  // anonymous modules get stored as lastAnon\n  if (typeof key !== 'string') {\n    state.lastRegister = [key, deps, executingRequire];\n  }\n\n  // everything else registers into the register cache\n  else {\n    var load = state.records[key] || createLoadRecord(state, key, undefined);\n    load.registration = [deps, executingRequire, execute];\n  }\n};\n\n// ContextualLoader class\n// backwards-compatible with previous System.register context argument by exposing .id, .key\nfunction ContextualLoader (loader, key) {\n  this.loader = loader;\n  this.key = this.id = key;\n  this.meta = {\n    url: key\n    // scriptElement: null\n  };\n}\n/*ContextualLoader.prototype.constructor = function () {\n  throw new TypeError('Cannot subclass the contextual loader only Reflect.Loader.');\n};*/\nContextualLoader.prototype.import = function (key) {\n  if (this.loader.trace)\n    this.loader.loads[this.key].dynamicDeps.push(key);\n  return this.loader.import(key, this.key);\n};\n/*ContextualLoader.prototype.resolve = function (key) {\n  return this.loader.resolve(key, this.key);\n};*/\n\n// this is the execution function bound to the Module namespace record\nfunction ensureEvaluate (loader, load, link, registry, state, seen) {\n  if (load.module)\n    return load.module;\n\n  if (load.evalError)\n    throw load.evalError;\n\n  if (seen && seen.indexOf(load) !== -1)\n    return load.linkRecord.moduleObj;\n\n  // for ES loads we always run ensureEvaluate on top-level, so empty seen is passed regardless\n  // for dynamic loads, we pass seen if also dynamic\n  var err = doEvaluate(loader, load, link, registry, state, link.setters ? [] : seen || []);\n  if (err)\n    throw err;\n\n  return load.module;\n}\n\nfunction makeDynamicRequire (loader, key, dependencies, dependencyInstantiations, registry, state, seen) {\n  // we can only require from already-known dependencies\n  return function (name) {\n    for (var i = 0; i < dependencies.length; i++) {\n      if (dependencies[i] === name) {\n        var depLoad = dependencyInstantiations[i];\n        var module;\n\n        if (depLoad instanceof ModuleNamespace)\n          module = depLoad;\n        else\n          module = ensureEvaluate(loader, depLoad, depLoad.linkRecord, registry, state, seen);\n\n        return module.__useDefault || module;\n      }\n    }\n    throw new Error('Module ' + name + ' not declared as a System.registerDynamic dependency of ' + key);\n  };\n}\n\n// ensures the given es load is evaluated\n// returns the error if any\nfunction doEvaluate (loader, load, link, registry, state, seen) {\n  seen.push(load);\n\n  var err;\n\n  // es modules evaluate dependencies first\n  // non es modules explicitly call moduleEvaluate through require\n  if (link.setters) {\n    var depLoad, depLink;\n    for (var i = 0; i < link.dependencies.length; i++) {\n      depLoad = link.dependencyInstantiations[i];\n\n      if (depLoad instanceof ModuleNamespace)\n        continue;\n\n      // custom Module returned from instantiate\n      depLink = depLoad.linkRecord;\n      if (depLink && seen.indexOf(depLoad) === -1) {\n        if (depLoad.evalError)\n          err = depLoad.evalError;\n        else\n          // dynamic / declarative boundaries clear the \"seen\" list\n          // we just let cross format circular throw as would happen in real implementations\n          err = doEvaluate(loader, depLoad, depLink, registry, state, depLink.setters ? seen : []);\n      }\n\n      if (err) {\n        load.linkRecord = undefined;\n        load.evalError = addToError(err, 'Evaluating ' + load.key);\n        return load.evalError;\n      }\n    }\n  }\n\n  // link.execute won't exist for Module returns from instantiate on top-level load\n  if (link.execute) {\n    // ES System.register execute\n    // \"this\" is null in ES\n    if (link.setters) {\n      err = declarativeExecute(link.execute);\n    }\n    // System.registerDynamic execute\n    // \"this\" is \"exports\" in CJS\n    else {\n      var module = { id: load.key };\n      var moduleObj = link.moduleObj;\n      Object.defineProperty(module, 'exports', {\n        configurable: true,\n        set: function (exports) {\n          moduleObj.default = moduleObj.__useDefault = exports;\n        },\n        get: function () {\n          return moduleObj.__useDefault;\n        }\n      });\n\n      var require = makeDynamicRequire(loader, load.key, link.dependencies, link.dependencyInstantiations, registry, state, seen);\n\n      // evaluate deps first\n      if (!link.executingRequire)\n        for (var i = 0; i < link.dependencies.length; i++)\n          require(link.dependencies[i]);\n\n      err = dynamicExecute(link.execute, require, moduleObj.default, module);\n\n      // pick up defineProperty calls to module.exports when we can\n      if (module.exports !== moduleObj.default)\n        moduleObj.default = moduleObj.__useDefault = module.exports;\n\n      var moduleDefault = moduleObj.default;\n\n      // __esModule flag extension support via lifting\n      if (moduleDefault && moduleDefault.__esModule) {\n        for (var p in moduleDefault) {\n          if (Object.hasOwnProperty.call(moduleDefault, p))\n            moduleObj[p] = moduleDefault[p];\n        }\n      }\n    }\n  }\n\n  // dispose link record\n  load.linkRecord = undefined;\n\n  if (err)\n    return load.evalError = addToError(err, 'Evaluating ' + load.key);\n\n  registry[load.key] = load.module = new ModuleNamespace(link.moduleObj);\n\n  // if not an esm module, run importer setters and clear them\n  // this allows dynamic modules to update themselves into es modules\n  // as soon as execution has completed\n  if (!link.setters) {\n    if (load.importerSetters)\n      for (var i = 0; i < load.importerSetters.length; i++)\n        load.importerSetters[i](load.module);\n    load.importerSetters = undefined;\n  }\n}\n\n// {} is the closest we can get to call(undefined)\nvar nullContext = {};\nif (Object.freeze)\n  Object.freeze(nullContext);\n\nfunction declarativeExecute (execute) {\n  try {\n    execute.call(nullContext);\n  }\n  catch (e) {\n    return e;\n  }\n}\n\nfunction dynamicExecute (execute, require, exports, module) {\n  try {\n    var output = execute.call(global, require, exports, module);\n    if (output !== undefined)\n      module.exports = output;\n  }\n  catch (e) {\n    return e;\n  }\n}\n","import { resolveIfNotPlain } from 'es-module-loader/core/resolve.js';\nimport { baseURI, isBrowser, isWindows, addToError, global, createSymbol } from 'es-module-loader/core/common.js';\nimport RegisterLoader from 'es-module-loader/core/register-loader.js';\nimport { ModuleNamespace } from 'es-module-loader/core/loader-polyfill.js';\n\nexport { baseURI, isBrowser, isWindows, addToError, global, resolveIfNotPlain, ModuleNamespace }\n\nexport var resolvedPromise = Promise.resolve();\nexport function noop () {};\n\nexport var emptyModule = new ModuleNamespace({});\n\nexport function protectedCreateNamespace (bindings) {\n  if (bindings instanceof ModuleNamespace)\n    return bindings;\n\n  if (bindings && bindings.__esModule)\n    return new ModuleNamespace(bindings);\n\n  return new ModuleNamespace({ default: bindings, __useDefault: bindings });\n}\n\nvar hasStringTag;\nexport function isModule (m) {\n  if (hasStringTag === undefined)\n    hasStringTag = typeof Symbol !== 'undefined' && !!Symbol.toStringTag;\n  return m instanceof ModuleNamespace || hasStringTag && Object.prototype.toString.call(m) == '[object Module]';\n}\n\nexport var CONFIG = createSymbol('loader-config');\nexport var METADATA = createSymbol('metadata');\nexport var PLAIN_RESOLVE = createSymbol('plain-resolve');\nexport var PLAIN_RESOLVE_SYNC = createSymbol('plain-resolve-sync');\n\nexport var isWorker = typeof window === 'undefined' && typeof self !== 'undefined' && typeof importScripts !== 'undefined';\n\nexport function warn (msg, force) {\n  if (force || this.warnings && typeof console !== 'undefined' && console.warn)\n    console.warn(msg);\n}\n\nexport function checkInstantiateWasm (loader, wasmBuffer, processAnonRegister) {\n  var bytes = new Uint8Array(wasmBuffer);\n\n  // detect by leading bytes\n  // Can be (new Uint32Array(fetched))[0] === 0x6D736100 when working in Node\n  if (bytes[0] === 0 && bytes[1] === 97 && bytes[2] === 115) {\n    return WebAssembly.compile(wasmBuffer).then(function (m) {\n      var deps = [];\n      var setters = [];\n      var importObj = {};\n\n      // we can only set imports if supported (eg Safari doesnt support)\n      if (WebAssembly.Module.imports)\n        WebAssembly.Module.imports(m).forEach(function (i) {\n          var key = i.module;\n          setters.push(function (m) {\n            importObj[key] = m;\n          });\n          if (deps.indexOf(key) === -1)\n            deps.push(key);\n        });\n      loader.register(deps, function (_export) {\n        return {\n          setters: setters,\n          execute: function () {\n            _export(new WebAssembly.Instance(m, importObj).exports);\n          }\n        };\n      });\n      processAnonRegister();\n\n      return true;\n    });\n  }\n\n  return Promise.resolve(false);\n}\n\nvar parentModuleContext;\nexport function loadNodeModule (key, baseURL) {\n  if (key[0] === '.')\n    throw new Error('Node module ' + key + ' can\\'t be loaded as it is not a package require.');\n\n  if (!parentModuleContext) {\n    var Module = this._nodeRequire('module');\n    var base = decodeURI(baseURL.substr(isWindows ? 8 : 7));\n    parentModuleContext = new Module(base);\n    parentModuleContext.paths = Module._nodeModulePaths(base);\n  }\n  return parentModuleContext.require(key);\n}\n\nexport function extend (a, b) {\n  for (var p in b) {\n    if (!Object.hasOwnProperty.call(b, p))\n      continue;\n    a[p] = b[p];\n  }\n  return a;\n}\n\nexport function prepend (a, b) {\n  for (var p in b) {\n    if (!Object.hasOwnProperty.call(b, p))\n      continue;\n    if (a[p] === undefined)\n      a[p] = b[p];\n  }\n  return a;\n}\n\n// meta first-level extends where:\n// array + array appends\n// object + object extends\n// other properties replace\nexport function extendMeta (a, b, _prepend) {\n  for (var p in b) {\n    if (!Object.hasOwnProperty.call(b, p))\n      continue;\n    var val = b[p];\n    if (a[p] === undefined)\n      a[p] = val;\n    else if (val instanceof Array && a[p] instanceof Array)\n      a[p] = [].concat(_prepend ? val : a[p]).concat(_prepend ? a[p] : val);\n    else if (typeof val == 'object' && val !== null && typeof a[p] == 'object')\n      a[p] = (_prepend ? prepend : extend)(extend({}, a[p]), val);\n    else if (!_prepend)\n      a[p] = val;\n  }\n}\n\nvar supportsPreload = false, supportsPrefetch = false;\nif (isBrowser)\n  (function () {\n    var relList = document.createElement('link').relList;\n    if (relList && relList.supports) {\n      supportsPrefetch = true;\n      try {\n        supportsPreload = relList.supports('preload');\n      }\n      catch (e) {}\n    }\n  })();\n\nexport function preloadScript (url) {\n  // fallback to old fashioned image technique which still works in safari\n  if (!supportsPreload && !supportsPrefetch) {\n    var preloadImage = new Image();\n    preloadImage.src = url;\n    return;\n  }\n\n  var link = document.createElement('link');\n  if (supportsPreload) {\n    link.rel = 'preload';\n    link.as = 'script';\n  }\n  else {\n    // this works for all except Safari (detected by relList.supports lacking)\n    link.rel = 'prefetch';\n  }\n  link.href = url;\n  document.head.appendChild(link);\n  document.head.removeChild(link);\n}\n\nfunction workerImport (src, resolve, reject) {\n  try {\n    importScripts(src);\n  }\n  catch (e) {\n    reject(e);\n  }\n  resolve();\n}\n\nif (isBrowser) {\n  var loadingScripts = [];\n  var onerror = window.onerror;\n  window.onerror = function globalOnerror (msg, src) {\n    for (var i = 0; i < loadingScripts.length; i++) {\n      if (loadingScripts[i].src !== src)\n        continue;\n      loadingScripts[i].err(msg);\n      return;\n    }\n    if (onerror)\n      onerror.apply(this, arguments);\n  };\n}\n\nexport function scriptLoad (src, crossOrigin, integrity, resolve, reject) {\n  // percent encode just \"#\" for HTTP requests\n  src = src.replace(/#/g, '%23');\n\n  // subresource integrity is not supported in web workers\n  if (isWorker)\n    return workerImport(src, resolve, reject);\n\n  var script = document.createElement('script');\n  script.type = 'text/javascript';\n  script.charset = 'utf-8';\n  script.async = true;\n\n  if (crossOrigin)\n    script.crossOrigin = crossOrigin;\n  if (integrity)\n    script.integrity = integrity;\n\n  script.addEventListener('load', load, false);\n  script.addEventListener('error', error, false);\n\n  script.src = src;\n  document.head.appendChild(script);\n\n  function load () {\n    resolve();\n    cleanup();\n  }\n\n  // note this does not catch execution errors\n  function error (err) {\n    cleanup();\n    reject(new Error('Fetching ' + src));\n  }\n\n  function cleanup () {\n    for (var i = 0; i < loadingScripts.length; i++) {\n      if (loadingScripts[i].err === error) {\n        loadingScripts.splice(i, 1);\n        break;\n      }\n    }\n    script.removeEventListener('load', load, false);\n    script.removeEventListener('error', error, false);\n    document.head.removeChild(script);\n  }\n}\n\nexport function readMemberExpression (p, value) {\n  var pParts = p.split('.');\n  while (pParts.length)\n    value = value[pParts.shift()];\n  return value;\n}\n\n// separate out paths cache as a baseURL lock process\nexport function applyPaths (baseURL, paths, key) {\n  var mapMatch = getMapMatch(paths, key);\n  if (mapMatch) {\n    var target = paths[mapMatch] + key.substr(mapMatch.length);\n\n    var resolved = resolveIfNotPlain(target, baseURI);\n    if (resolved !== undefined)\n      return resolved;\n\n    return baseURL + target;\n  }\n  else if (key.indexOf(':') !== -1) {\n    return key;\n  }\n  else {\n    return baseURL + key;\n  }\n}\n\nfunction checkMap (p) {\n  var name = this.name;\n  // can add ':' here if we want paths to match the behaviour of map\n  if (name.substr(0, p.length) === p && (name.length === p.length || name[p.length] === '/' || p[p.length - 1] === '/' || p[p.length - 1] === ':')) {\n    var curLen = p.split('/').length;\n    if (curLen > this.len) {\n      this.match = p;\n      this.len = curLen;\n    }\n  }\n}\n\nexport function getMapMatch (map, name) {\n  if (Object.hasOwnProperty.call(map, name))\n    return name;\n\n  var bestMatch = {\n    name: name,\n    match: undefined,\n    len: 0\n  };\n\n  Object.keys(map).forEach(checkMap, bestMatch);\n\n  return bestMatch.match;\n}\n\n// RegEx adjusted from https://github.com/jbrantly/yabble/blob/master/lib/yabble.js#L339\nexport var cjsRequireRegEx = /(?:^\\uFEFF?|[^$_a-zA-Z\\xA0-\\uFFFF.\"'])require\\s*\\(\\s*(\"[^\"\\\\]*(?:\\\\.[^\"\\\\]*)*\"|'[^'\\\\]*(?:\\\\.[^'\\\\]*)*')\\s*\\)/g;\n","import { ModuleNamespace } from 'es-module-loader/core/loader-polyfill.js';\nimport RegisterLoader from 'es-module-loader/core/register-loader.js';\nimport { global, baseURI, CONFIG, PLAIN_RESOLVE, PLAIN_RESOLVE_SYNC, resolveIfNotPlain, resolvedPromise,\n    extend, emptyModule, applyPaths, scriptLoad, protectedCreateNamespace, getMapMatch, noop, preloadScript, isModule, isNode, checkInstantiateWasm } from './common.js';\n\nexport { ModuleNamespace }\n\nexport default SystemJSProductionLoader;\n\nfunction SystemJSProductionLoader () {\n  RegisterLoader.call(this);\n\n  // internal configuration\n  this[CONFIG] = {\n    baseURL: baseURI,\n    paths: {},\n    map: {},\n    submap: {},\n    bundles: {},\n    depCache: {},\n    wasm: false\n  };\n\n  // support the empty module, as a concept\n  this.registry.set('@empty', emptyModule);\n}\n\nSystemJSProductionLoader.plainResolve = PLAIN_RESOLVE;\nSystemJSProductionLoader.plainResolveSync = PLAIN_RESOLVE_SYNC;\n\nvar systemJSPrototype = SystemJSProductionLoader.prototype = Object.create(RegisterLoader.prototype);\n\nsystemJSPrototype.constructor = SystemJSProductionLoader;\n\nsystemJSPrototype[SystemJSProductionLoader.resolve = RegisterLoader.resolve] = function (key, parentKey) {\n  var resolved = resolveIfNotPlain(key, parentKey || baseURI);\n  if (resolved !== undefined)\n    return Promise.resolve(resolved);\n\n  // plain resolution\n  var loader = this;\n  return resolvedPromise\n  .then(function () {\n    return loader[PLAIN_RESOLVE](key, parentKey);\n  })\n  .then(function (resolved) {\n    resolved = resolved || key;\n    // if in the registry then we are done\n    if (loader.registry.has(resolved))\n      return resolved;\n\n    // then apply paths\n    // baseURL is fallback\n    var config = loader[CONFIG];\n    return applyPaths(config.baseURL, config.paths, resolved);\n  });\n};\n\nsystemJSPrototype.newModule = function (bindings) {\n  return new ModuleNamespace(bindings);\n};\n\nsystemJSPrototype.isModule = isModule;\n\nsystemJSPrototype.resolveSync = function (key, parentKey) {\n  var resolved = resolveIfNotPlain(key, parentKey || baseURI);\n  if (resolved !== undefined)\n    return resolved;\n\n  // plain resolution\n  resolved = this[PLAIN_RESOLVE_SYNC](key, parentKey) || key;\n\n  if (this.registry.has(resolved))\n    return resolved;\n\n  // then apply paths\n  var config = this[CONFIG];\n  return applyPaths(config.baseURL, config.paths, resolved);\n};\n\nsystemJSPrototype.import = function () {\n  return RegisterLoader.prototype.import.apply(this, arguments)\n  .then(function (m) {\n    return '__useDefault' in m ? m.__useDefault : m;\n  });\n};\n\nsystemJSPrototype[PLAIN_RESOLVE] = systemJSPrototype[PLAIN_RESOLVE_SYNC] = plainResolve;\n\nsystemJSPrototype[SystemJSProductionLoader.instantiate = RegisterLoader.instantiate] = coreInstantiate;\n\nsystemJSPrototype.config = function (cfg) {\n  var config = this[CONFIG];\n\n  if (cfg.baseURL) {\n    config.baseURL = resolveIfNotPlain(cfg.baseURL, baseURI) || resolveIfNotPlain('./' + cfg.baseURL, baseURI);\n    if (config.baseURL[config.baseURL.length - 1] !== '/')\n      config.baseURL += '/';\n  }\n\n  if (cfg.paths)\n    extend(config.paths, cfg.paths);\n\n  if (cfg.map) {\n    var val = cfg.map;\n    for (var p in val) {\n      if (!Object.hasOwnProperty.call(val, p))\n        continue;\n\n      var v = val[p];\n\n      if (typeof v === 'string') {\n        config.map[p] = v;\n      }\n\n      // object submap\n      else {\n        // normalize parent with URL and paths only\n        var resolvedParent = resolveIfNotPlain(p, baseURI) || applyPaths(config.baseURL, config.paths, p);\n        extend(config.submap[resolvedParent] || (config.submap[resolvedParent] = {}), v);\n      }\n    }\n  }\n\n  for (var p in cfg) {\n    if (!Object.hasOwnProperty.call(cfg, p))\n      continue;\n\n    var val = cfg[p];\n\n    switch (p) {\n      case 'baseURL':\n      case 'paths':\n      case 'map':\n      break;\n\n      case 'bundles':\n        for (var p in val) {\n          if (!Object.hasOwnProperty.call(val, p))\n            continue;\n          var v = val[p];\n          for (var i = 0; i < v.length; i++)\n            config.bundles[this.resolveSync(v[i], undefined)] = p;\n        }\n      break;\n\n      case 'depCache':\n        for (var p in val) {\n          if (!Object.hasOwnProperty.call(val, p))\n            continue;\n          var resolvedParent = this.resolveSync(p, undefined);\n          config.depCache[resolvedParent] = (config.depCache[resolvedParent] || []).concat(val[p]);\n        }\n      break;\n\n      case 'wasm':\n        config.wasm = typeof WebAssembly !== 'undefined' && !!val;\n      break;\n\n      default:\n        throw new TypeError('The SystemJS production build does not support the \"' + p + '\" configuration option.');\n    }\n  }\n};\n\n// getConfig configuration cloning\nsystemJSPrototype.getConfig = function (name) {\n  var config = this[CONFIG];\n\n  var map = {};\n  extend(map, config.map);\n  for (var p in config.submap) {\n    if (!Object.hasOwnProperty.call(config.submap, p))\n      continue;\n    map[p] = extend({}, config.submap[p]);\n  }\n\n  var depCache = {};\n  for (var p in config.depCache) {\n    if (!Object.hasOwnProperty.call(config.depCache, p))\n      continue;\n    depCache[p] = [].concat(config.depCache[p]);\n  }\n\n  var bundles = {};\n  for (var p in config.bundles) {\n    if (!Object.hasOwnProperty.call(config.bundles, p))\n      continue;\n    bundles[p] = [].concat(config.bundles[p]);\n  }\n\n  return {\n    baseURL: config.baseURL,\n    paths: extend({}, config.paths),\n    depCache: depCache,\n    bundles: bundles,\n    map: map,\n    wasm: config.wasm\n  };\n};\n\n// ensure System.register and System.registerDynamic decanonicalize\nsystemJSPrototype.register = function (key, deps, declare) {\n  if (typeof key === 'string')\n    key = this.resolveSync(key, undefined);\n  return RegisterLoader.prototype.register.call(this, key, deps, declare);\n};\n\nsystemJSPrototype.registerDynamic = function (key, deps, executingRequire, execute) {\n  if (typeof key === 'string')\n    key = this.resolveSync(key, undefined);\n  return RegisterLoader.prototype.registerDynamic.call(this, key, deps, executingRequire, execute);\n};\n\nfunction plainResolve (key, parentKey) {\n  var config = this[CONFIG];\n\n  // Apply contextual submap\n  if (parentKey) {\n    var parent = getMapMatch(config.submap, parentKey);\n    var submap = config.submap[parent];\n    var mapMatch = submap && getMapMatch(submap, key);\n\n    if (mapMatch) {\n      var target = submap[mapMatch] + key.substr(mapMatch.length);\n      return resolveIfNotPlain(target, parent) || target;\n    }\n  }\n\n  // Apply global map\n  var map = config.map;\n  var mapMatch = getMapMatch(map, key);\n\n  if (mapMatch) {\n    var target = map[mapMatch] + key.substr(mapMatch.length);\n    return resolveIfNotPlain(target, parentKey || config.baseURL) || target;\n  }\n}\n\nfunction doScriptLoad (url, processAnonRegister) {\n  return new Promise(function (resolve, reject) {\n    return scriptLoad(url, 'anonymous', undefined, function () {\n      processAnonRegister();\n      resolve();\n    }, reject);\n  });\n}\n\nvar loadedBundles = {};\nfunction coreInstantiate (key, processAnonRegister) {\n  var config = this[CONFIG];\n\n  var wasm = config.wasm;\n\n  var bundle = config.bundles[key];\n  if (bundle) {\n    var loader = this;\n    var bundleUrl = loader.resolveSync(bundle, undefined);\n    if (loader.registry.has(bundleUrl))\n      return;\n    return loadedBundles[bundleUrl] || (loadedBundles[bundleUrl] = doScriptLoad(bundleUrl, processAnonRegister).then(function () {\n      // bundle treated itself as an empty module\n      // this means we can reload bundles by deleting from the registry\n      if (!loader.registry.has(bundleUrl))\n        loader.registry.set(bundleUrl, loader.newModule({}));\n      delete loadedBundles[bundleUrl];\n    }));\n  }\n\n  var depCache = config.depCache[key];\n  if (depCache) {\n    var preloadFn = wasm ? fetch : preloadScript;\n    for (var i = 0; i < depCache.length; i++)\n      this.resolve(depCache[i], key).then(preloadFn);\n  }\n\n  if (wasm) {\n    var loader = this;\n    return fetch(key)\n    .then(function(res) {\n      if (res.ok)\n        return res.arrayBuffer();\n      else\n        throw new Error('Fetch error: ' + res.status + ' ' + res.statusText);\n    })\n    .then(function (fetched) {\n      return checkInstantiateWasm(loader, fetched, processAnonRegister)\n      .then(function (wasmInstantiated) {\n        if (wasmInstantiated)\n          return;\n        // not wasm -> convert buffer into utf-8 string to execute as a module\n        // TextDecoder compatibility matches WASM currently. Need to keep checking this.\n        // The TextDecoder interface is documented at http://encoding.spec.whatwg.org/#interface-textdecoder\n        var source = new TextDecoder('utf-8').decode(new Uint8Array(fetched));\n        (0, eval)(source + '\\n//# sourceURL=' + key);\n        processAnonRegister();\n      });\n    });\n  }\n\n  return doScriptLoad(key, processAnonRegister);\n}\n","import { global, isBrowser, isWorker } from './common.js';\nimport SystemJSProductionLoader from './systemjs-production-loader.js';\n\nSystemJSProductionLoader.prototype.version = VERSION;\n\nvar System = new SystemJSProductionLoader();\n\n// only set the global System on the global in browsers\nif (isBrowser || isWorker) {\n  global.SystemJS = System;\n\n  // dont override an existing System global\n  if (!global.System) {\n    global.System = System;\n  }\n  // rather just extend or set a System.register on the existing System global\n  else {\n    var register = global.System.register;\n    global.System.register = function () {\n      if (register)\n        register.apply(this, arguments);\n      System.register.apply(this, arguments);\n    };\n  }\n}\n\nif (typeof module !== 'undefined' && module.exports)\n  module.exports = System;\n"]}